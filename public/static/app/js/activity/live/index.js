webpackJsonp(["app/js/activity/live/index"],{c6797855be84e924b7d5:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n("da32dea28c2b82c7aab1"),r=function(t){return t&&t.__esModule?t:{default:t}}(o),c=function(){function t(){i(this,t),this.interval=1,this.emitter=new r.default,this.startEvent(),this.finishByReplay(),this.countdownEvent()}return a(t,[{key:"finishByReplay",value:function(){var t=this;$(".js-replay").on("click",function(){var e=$(this).data("finish");$.post(e,function(e){t.emitter.emit("finish")})})}},{key:"startEvent",value:function(){var t=this;$(".js-start-live").on("click",function(){t.started||(this.started=!0,t.emitter.emit("start",{}).then(function(){}).catch(function(t){}))})}},{key:"countdownEvent",value:function(){var t=this,e=$("#countdown");0!=e.length&&(this.timeRemain=e.data("timeRemain"),this._countdown(e,this.interval),this.iId=setInterval(function(){t._countdown(e,t.interval)},1e3*this.interval))}},{key:"_countdown",value:function(t,e){var n=this.timeRemain,i=Math.floor(n/86400),a=n%86400,o=Math.floor(a/3600);a%=3600;var r=Math.floor(a/60),c=a%60,u="";u+=i?i+"天":"",u+=o?o+"时":"",u+=r?r+"分":"",u+=c?c+"秒":"",this.timeRemain=n-e,t.text(u),this.timeRemain<=0&&(t.text("直播已经开始"),window.clearInterval(this.iId))}}]),t}();e.default=c},d9e0e032c89bc7ecf076:function(t,e,n){"use strict";var i=n("c6797855be84e924b7d5"),a=function(t){return t&&t.__esModule?t:{default:t}}(i);window.liveShow=new a.default}},["d9e0e032c89bc7ecf076"]);